<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.4 on Fri Jul 29 15:39:39 2016 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>matchall_nd.pro (Documentation for jbiu/)</title>

    

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="matchall_nd.pro (Documentation for jbiu/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for jbiu/</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="matchall_nd-code.html" title="Chromocoded source">Source</a> <a href="matchall_nd.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
        <td >
          <a href="../idldoc-warnings.html">Warnings</a>
        </td>
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          Developer documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">astro/</h2>
      <h1 class="basename">matchall_nd.pro<span class="file-attributes"></span></h1>
	    

      
      
	    
	    <br/>

      

      

      

      

      

      
      <div>
        <h2>Routines</h2>

        <dl class="routine-summary">
          
            <dt class="syntax"><a href="#matchallmap"><code><span class="var">result</span> = matchallmap(<span class="argument">ngrid</span><span class="argument">, aind</span><span class="argument">, usemap=<span class="var">usemap</span></span>)</code></a></dt>
            <dd class="small"></dd>
          
            <dt class="syntax"><a href="#matchall_nd"><code><span class="var">result</span> = matchall_nd(<span class="argument">p1</span><span class="argument">, p2</span><span class="argument">, maxdistance</span><span class="argument"> [, nwithin]</span><span class="argument">, distance=<span class="var">distance</span></span>)</code></a></dt>
            <dd class="small"><p>    Determines which of a set of coordinates of arbitratry dimension are a    given distance from each of a vector of points.</p>

</dd>
          
        </dl>
      </div>
      

              	
    	
    	<div id="routine-details">
    	  <h2>Routine details</h2>

        
        <div class="routine-details details" id="matchallmap">
        	<h2 class="routine-name"><a href="#root" class="top">top</a> <a href="matchall_nd-code.html#matchallmap:source" class="top">source</a> matchallmap<span class="routine-attributes"></span></h2>
        	
        	
        	
          <p class="syntax"><code><span class="var">result</span> = matchallmap(<span class="argument"><a href="#matchallmap:p:ngrid">ngrid</a></span><span class="argument">, <a href="#matchallmap:p:aind">aind</a></span><span class="argument">, <a href="#matchallmap:k:usemap">usemap</a>=<span class="var">usemap</span></span>)</code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="matchallmap:p:ngrid">ngrid <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="matchallmap:p:aind">aind <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="matchallmap:k:usemap">usemap <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        
        <div class="routine-details details" id="matchall_nd">
        	<h2 class="routine-name"><a href="#root" class="top">top</a> <a href="matchall_nd-code.html#matchall_nd:source" class="top">source</a> matchall_nd<span class="routine-attributes"></span></h2>
        	
        	
        	<p class="small categories">Astro</p>
        	
        	
          <p class="syntax"><code><span class="var">result</span> = matchall_nd(<span class="argument"><a href="#matchall_nd:p:p1">p1</a></span><span class="argument">, <a href="#matchall_nd:p:p2">p2</a></span><span class="argument">, <a href="#matchall_nd:p:maxdistance">maxdistance</a></span><span class="argument"> [, <a href="#matchall_nd:p:nwithin">nwithin</a>]</span><span class="argument">, <a href="#matchall_nd:k:distance">distance</a>=<span class="var">distance</span></span>)</code></p>

          
          <div class="small "><p>    Determines which of a set of coordinates of arbitratry dimension are a
    given distance from each of a vector of points. Based on JD's MATCH_2D
    and my MATCHALL_SPH.

</p>

</div>
          

          
          <h3>Return value</h3>
          	<div class="small"><p>    The function returns the list of indices of P2 that lie within
    Distance of each point in P1. The format of the returned array is
    similar to the REVERSE_INDICES array from HISTOGRAM: the indices
    into P2 that are close enough to element i of P1 are
    contained in Result[Result[i]:Result[i+1]-1] (note, however, that
    these indices are not guaranteed to be sorted). If there are no matches,
    then Result[i] eq Result[i+1].

</p>

</div>
          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="matchall_nd:p:p1">p1 <span class="smaller">in </span></dt>
              <dd class="small"><p>    N1xD array of D-dimensional coordinates.

</p>

</dd>
              
              <dt id="matchall_nd:p:p2">p2 <span class="smaller">in </span></dt>
              <dd class="small"><p>    N2xD array of D-dimensional coordinates.

</p>

</dd>
              
              <dt id="matchall_nd:p:maxdistance">maxdistance <span class="smaller">in </span></dt>
              <dd class="small"><p> Maximum D-dimensional distance.

</p>

</dd>
              
              <dt id="matchall_nd:p:nwithin">nwithin <span class="smaller">optional </span></dt>
              <dd class="small"><p>A vector containing the number of matches for each entry in P1.

</p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="matchall_nd:k:distance">distance <span class="smaller">in </span></dt>
              <dd class="small"><p> Optional output containing the distances between each pair.
               The distances are stored in the same order as the Result
               array but starting at 0, i.e. if j is match number k to
               element i then
                   j = Result[Result[i]+k]
               and the distance between points i and j is
                   DISTANCE[Result[i]+k-Result[0]]

</p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><code class="listing">    Generates Gaussian 3D clouds around each of several locations and colours
    the points in the cloud that lie within the Gaussian dispersion of any
    location.

    na = 10
    nbpera = 1000
    a = randomn(seed, na, 3)
    b = 0.1*randomn(seed, na*nbpera, 3)
    b += rebin(a, na*nbpera, 3, /sample)
    result = matchall_nd(a, b, 0.1)
    matches = result[na+1:*]
    iplot, /scatter, /iso, b[*,0], b[*,1], b[*,2]
    iplot, /overplot, /scatter, sym_color=[255,0,0], b[matches,0], $
      b[matches,1], b[matches,2]
    iplot, /overplot, sym_index=1, sym_color=[0,0,255], linestyle=6, a[*,0], $
      a[*,1], a[*,2]
</code></div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              

              

              
                <dt>History:</dt>
                <dd><p>    Written by:    Jeremy Bailin
    10 June 2008   Public release in JBIU as WITHINSPHRAD
    24 April 2009  Vectorized as WITHINSPHRAD_VEC
    25 April 2009  Polished to improve memory use
    9 May 2009     Radical efficiency re-write as WITHINSPHRAD_VEC3D borrowing
                   heavily from JD Smith's MATCH_2D
    13 May 2009    Removed * from LHS index in final remapping for speed
    6 May 2010     Changed to MATCHALL_2D and just using Euclidean 2D
                   coordinates (add a bunch of stuff back in from MATCH_2D and
                   take out a bunch of angle stuff)
    25 May 2010    Bug fix to allow X2 and Y2 to have any dimension.
    23 August 2010 Generalized to an arbitrary number of dimensions and
                   to use the manifold-mapping technique from WITHINSPHRAD_VEC3D
                   if the space is sparse enough as MATCHALL_ND.
    9 Feb 2010     Added DISTANCE output keyword.
</p>

</dd>
              

              
            </dl>
          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>
        	
        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Thu Feb 10 09:38:59 2011</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>212</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.4 on Fri Jul 29 15:39:39 2016</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>