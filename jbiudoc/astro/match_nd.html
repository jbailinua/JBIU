<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.4 on Fri Jul 29 15:39:39 2016 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>match_nd.pro (Documentation for jbiu/)</title>

    

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="match_nd.pro (Documentation for jbiu/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for jbiu/</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="match_nd-code.html" title="Chromocoded source">Source</a> <a href="match_nd.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
        <td >
          <a href="../idldoc-warnings.html">Warnings</a>
        </td>
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          Developer documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">astro/</h2>
      <h1 class="basename">match_nd.pro<span class="file-attributes"></span></h1>
	    

      
      
	    
	    <br/>

      

      

      

      

      

      

              	
    	
    	<div id="routine-details">
    	  

        
        <div class="routine-details details" id="match_nd">
        	<h2 class="routine-name"><a href="#root" class="top">top</a> <a href="match_nd-code.html#match_nd:source" class="top">source</a> match_nd<span class="routine-attributes"></span></h2>
        	
        	
        	<p class="small categories">Astro</p>
        	
        	
          <p class="syntax"><code><span class="var">result</span> = match_nd(<span class="argument"><a href="#match_nd:p:p1">p1</a></span><span class="argument">, <a href="#match_nd:p:p2">p2</a></span><span class="argument">, <a href="#match_nd:p:maxdistance">maxdistance</a></span><span class="argument">, <a href="#match_nd:k:mindist">mindist</a>=<span class="var">mindist</span></span><span class="argument">, <a href="#match_nd:k:one_to_one">one_to_one</a>=<span class="var">one_to_one</span></span>)</code></p>

          
          <div class="small "><p>    For each arbitrarily-dimensioned point in one vector, determines the closest
    point in a second vector. Method is to take the list returned by MATCHALL_ND
    and narrow it down to the closest match.

</p>

</div>
          

          
          <h3>Return value</h3>
          	<div class="small"><p>    The function returns an array with one entry for each P1
    element containing the index in P2 that is closest, or -1 if
    there are none within MaxDistance.

</p>

</div>
          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="match_nd:p:p1">p1 <span class="smaller">in </span></dt>
              <dd class="small"><p>     N1 x D array of D-dimensional coordinates.

</p>

</dd>
              
              <dt id="match_nd:p:p2">p2 <span class="smaller">in </span></dt>
              <dd class="small"><p>     N2 x D array of D-dimensional coordinates.

</p>

</dd>
              
              <dt id="match_nd:p:maxdistance">maxdistance <span class="smaller">in </span></dt>
              <dd class="small"><p> Maximum D-dimensional distance.

</p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="match_nd:k:mindist">mindist <span class="smaller">in </span></dt>
              <dd class="small"><p> Optional output containing an array of the actual distance
              to the closest match for each element of P1.

</p>

</dd>
              
              <dt id="match_nd:k:one_to_one">one_to_one <span class="smaller">in </span></dt>
              <dd class="small"><p> Enforces one-to-one matching. By default, matching can
                 be many-to-one, i.e. one entry in P2 can be the
                 closest match to several entries in P1. If
                 /ONE_TO_ONE is given, then each multiple entry in P2
                 is first assigned to its closest point in P1. Then any
                 entries in P1 that have lost their match are assigned
                 the next closest point within MaxDistance. This process is
                 iterated until all points in P1 are matched to a
                 unique point in P2 or there are no more points
                 within MaxDistance.

</p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><code class="listing">    na = 10
    nb = 1000
    a = randomn(seed, na, 3)
    b = 2. * randomu(seed, nb, 3) - 1
    matches = match_nd(a, b, 0.3)
    iplot, /scatter, /iso, b[*,0], b[*,1], b[*,2]
    iplot, /overplot, /scatter, a[*,0], a[*,1], a[*,2], sym_index=6, $
      sym_color=[255,0,0]
    for i=0L, na-1 do if matches[i] ne -1 then $
      iplot, /overplot, [a[i,0], b[matches[i],0]], [a[i,1], b[matches[i],1]], $
        [a[i,2], b[matches[i],2]], sym_index=0, color=[255,0,0]
</code></div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              

              

              
                <dt>History:</dt>
                <dd><p>    Written by:    Jeremy Bailin
    10 June 2008   Public release in JBIU as WITHINSPHRAD
    24 April 2009  Vectorized as WITHINSPHRAD_VEC
    25 April 2009  Polished to improve memory use
    9 May 2009     Radical efficiency re-write as WITHINSPHRAD_VEC3D borrowing
                   heavily from JD Smith's MATCH_2D
    13 May 2009    Removed * from LHS index in final remapping for speed
    23 August 2010 Modified to only return closest match as WITHINSPHRAD_CLOSEST
                   (importing some stuff back from MATCH_2D)
    8 Sept 2010    Renamed MATCH_SPH. Added /ONE_TO_ONE option, and modified
                   to explicitly call MATCHALL_SPH and then cull.
    9 Feb 2011     Forked as MATCH_ND to handle Euclidean case of arbitrary dimension.
    13 April 2011  Fixed to work around cumulative total 1-element array bug.
</p>

</dd>
              

              
            </dl>
          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>
        	
        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Wed Apr 13 16:00:28 2011</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>164</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.4 on Fri Jul 29 15:39:39 2016</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>